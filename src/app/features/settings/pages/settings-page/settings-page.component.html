<txg-main-layout title="Settings" [loadingSignal]="isLoadingSignal">
  <div class="p-4">
    @if (viewModel(); as viewModel) {
      @if (viewModel.error) {
        <txg-notice
          [descriptionText]="viewModel.error!"
          [isError]="true">
        </txg-notice>
      } @else if (!viewModel.isLoading || initialLoadFinished()) {
        <div class="grid grid-cols-1 gap-6">
          <txg-profile-settings-card
            [profile]="viewModel.profile"
            (profileSaved)="onProfileSaved($event)">
          </txg-profile-settings-card>

          <txg-account-settings-card
            (passwordChanged)="onPasswordChanged()"
            (signedOut)="onSignedOut()">
          </txg-account-settings-card>
        </div>
      }
    }
  </div>
</txg-main-layout>
